<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reportes - Admin</title>

  <!-- Fuente -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sauce+One&display=swap" rel="stylesheet" />

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
  
  <!-- CSS -->
  <link rel="stylesheet" href="../../style/reportes-admin.css" />
  <link rel="stylesheet" href="../../style/main.css" />
</head>

<body>

  <!-- HEADER -->
  <header>
    <nav>
      <div class="container-fluid pt-3 contenedor-nav">
        <div class="row">

          <!-- LOGO -->
          <div class="col-2">
            <a href="../../index.html">
              <img class="navbar-brand-img" src="../../images/LogoUpsitos.png" alt="Logo">
            </a>
          </div>

          <!-- BUSCADOR -->
          <div class="col-6 col-md-6 mx-auto">
            <form class="position-relative d-flex align-items-center" role="search">
              <input class="form-control form-control-search rounded-5" type="search" placeholder="Buscar..."
                aria-label="Buscar" />
              <button type="submit" class="btn position-absolute end-0 me-2 p-0 border-0 bg-transparent">
                <img src="../../images/lupa.png" alt="Buscar" style="width:25px; height:25px;">
              </button>
            </form>
          </div>

          <!-- ICONOS DERECHA -->
          <div class="col-2 text-end herramientas d-flex justify-content-end">

            <!-- BOT√ìN USUARIO -->
            <button type="button" class="btn border-0 bg-transparent me-3"
              onclick="window.location.href='infousuario-admin.html'">
              <img class="img-user" src="../../images/usuario.png" alt="Usuario" style="width:35px; height:35px;">
            </button>

            <!-- BOT√ìN CAMPANA -->
            <button type="button" class="btn border-0 bg-transparent me-2" onclick="window.location.href='notificaciones-admin.html'">
              <img class="img-notificacion" src="../../images/campana (2).png" alt="Notificaciones"
                style="width:30px; height:30px;">
            </button>

          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- BOT√ìN REGRESAR -->
  <a href="dashboard-admin.html" class="btn-regresar">
    <i class="fa-solid fa-arrow-left"></i>
  </a>

  <!-- BOTONES SUPERIORES -->
  <div class="botones-superiores">
    <button onclick="window.location.href='dashboard-admin.html'">Dashboard</button>
    <button onclick="window.location.href='estadisticas-ventas.html'">Estad√≠sticas</button>
    <button class="active" onclick="window.location.href='reportes-admin.html'">Reportes</button>
  </div>

  <!-- PESTA√ëAS SUPERIORES -->
  <div class="tabs-usuario">
    <button class="tab active">Generaci√≥n de Reportes</button>
  </div>

  <!-- CONTENIDO PRINCIPAL -->
  <section class="container mt-4 reportes-contenido">
    <h3 class="text-center mb-4" style="color: #fc4b08; font-weight: bold;">Centro de Reportes</h3>

    <!-- SELECTOR DE TIPO DE REPORTE -->
    <div class="row mb-4">
      <div class="col-md-8 mx-auto">
        <div class="selector-reporte">
          <h5 class="selector-titulo">Selecciona el tipo de reporte</h5>
          <div class="tipos-reporte">
            <button class="tipo-btn active" data-tipo="ventas" onclick="seleccionarTipo('ventas')">
              <i class="fa-solid fa-chart-line"></i>
              <span>Ventas</span>
            </button>
            <button class="tipo-btn" data-tipo="usuarios" onclick="seleccionarTipo('usuarios')">
              <i class="fa-solid fa-users"></i>
              <span>Usuarios</span>
            </button>
            <button class="tipo-btn" data-tipo="productos" onclick="seleccionarTipo('productos')">
              <i class="fa-solid fa-box"></i>
              <span>Productos</span>
            </button>
            <button class="tipo-btn" data-tipo="membresias" onclick="seleccionarTipo('membresias')">
              <i class="fa-solid fa-crown"></i>
              <span>Membres√≠as</span>
            </button>
            <button class="tipo-btn" data-tipo="quejas" onclick="seleccionarTipo('quejas')">
              <i class="fa-solid fa-exclamation-triangle"></i>
              <span>Quejas</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- CONFIGURACI√ìN DEL REPORTE -->
    <div class="row mb-4">
      <div class="col-md-8 mx-auto">
        <div class="config-reporte">
          <h5 class="config-titulo">Configuraci√≥n del Reporte</h5>

          <!-- PERIODO -->
          <div class="config-grupo mb-3">
            <label for="selectPeriodo" class="config-label">Periodo:</label>
            <select id="selectPeriodo" class="form-select config-input">
              <option value="7">√öltimos 7 d√≠as</option>
              <option value="15">√öltimos 15 d√≠as</option>
              <option value="30" selected>√öltimos 30 d√≠as</option>
              <option value="90">√öltimos 3 meses</option>
              <option value="180">√öltimos 6 meses</option>
              <option value="365">√öltimo a√±o</option>
              <option value="custom">Personalizado</option>
            </select>
          </div>

          <!-- FECHAS PERSONALIZADAS -->
          <div id="fechasPersonalizadas" class="config-grupo mb-3" style="display: none;">
            <div class="row">
              <div class="col-md-6">
                <label for="fechaInicio" class="config-label">Fecha Inicio:</label>
                <input type="date" id="fechaInicio" class="form-control config-input">
              </div>
              <div class="col-md-6">
                <label for="fechaFin" class="config-label">Fecha Fin:</label>
                <input type="date" id="fechaFin" class="form-control config-input">
              </div>
            </div>
          </div>

          <!-- FORMATO -->
          <div class="config-grupo mb-3">
            <label for="selectFormato" class="config-label">Formato de exportaci√≥n:</label>
            <select id="selectFormato" class="form-select config-input">
              <option value="pdf">PDF</option>
              <option value="excel">Excel (.xlsx)</option>
              <option value="csv">CSV</option>
            </select>
          </div>

          <!-- INCLUIR GR√ÅFICAS -->
          <div class="config-grupo mb-3">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="checkGraficas" checked>
              <label class="form-check-label config-label" for="checkGraficas">
                Incluir gr√°ficas en el reporte
              </label>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- VISTA PREVIA -->
    <div class="row mb-4">
      <div class="col-md-10 mx-auto">
        <div class="vista-previa">
          <h5 class="vista-titulo">
            <i class="fa-solid fa-eye"></i> Vista Previa
          </h5>
          <div class="vista-contenido" id="vistaPrevia">
            <div class="cargando">
              <i class="fa-solid fa-spinner fa-spin"></i>
              <p>Selecciona las opciones y haz clic en "Generar Vista Previa"</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- BOTONES DE ACCI√ìN -->
    <div class="row">
      <div class="col-md-8 mx-auto text-center">
        <button class="btn-accion btn-previa" onclick="generarVistaPrevia()">
          <i class="fa-solid fa-eye"></i> Generar Vista Previa
        </button>
        <button class="btn-accion btn-generar" onclick="generarReporte()">
          <i class="fa-solid fa-download"></i> Generar y Descargar Reporte
        </button>
      </div>
    </div>

    <!-- HISTORIAL DE REPORTES -->
    <div class="row mt-5">
      <div class="col-md-10 mx-auto">
        <div class="historial-reportes">
          <h5 class="historial-titulo">
            <i class="fa-solid fa-clock-rotate-left"></i> Historial de Reportes Generados
          </h5>
          <div class="tabla-historial">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>Fecha</th>
                  <th>Tipo</th>
                  <th>Periodo</th>
                  <th>Formato</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="tablaHistorial">
                <tr>
                  <td colspan="5" class="text-center">No hay reportes generados</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

  </section>

  <!-- FOOTER -->
  <footer class="pie-pagina">
    <div class="d-flex justify-content-end mb-2">
      <img src="../../images/X.png" alt="X" />
      <img src="../../images/instragram.png" alt="Instagram" />
      <img src="../../images/facebook.png" alt="Facebook" />
    </div>

    <p><strong>Contactos:</strong></p>
    <p class="mb-0">üìû 9613064346</p>
    <p>‚úâ 251243@ids.upchiapas.edu.mx</p>
  </footer>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module" src="../../js/reportes-admin.js"></script>

</body>

</html>

<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mis Ventas</title>

  <!-- Fuente -->
  <link href="https://fonts.cdnfonts.com/css/open-sauce-one" rel="stylesheet">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />

  <!-- CSS -->
  <link rel="stylesheet" href="../../style/infousuario.css" />
  <link rel="stylesheet" href="../../style/main.css" />
  <link rel="stylesheet" href="../../style/btnBack.css">
  <link rel="stylesheet" href="../../style/styleHeaderFooter.css">
  <link rel="stylesheet" href="../../style/ventas.css" />

</head>

<body>

  <header>
    <nav>
      <div class="container-fluid pt-3 contenedor-nav">
        <div class="row">

          <div class="col-2">
            <a href="../../index.html">
              <img class="navbar-brand-img" src="../../images/LogoUpsitos.png" alt="Logo">
            </a>
          </div>

          <div class="tabs-usuario">
            <button id="informacion" class="tab">Informaci√≥n de usuario</button>
            <button id="membresia" class="tab">Membres√≠a</button>
            <button id="ventas" class="tab active">Ventas</button>
            <button id="estadisticas" class="tab">Estad√≠sticas</button>
          </div>

          <div class="col-2 text-end herramientas d-flex justify-content-end">

            <button type="button" class="btn border-0 bg-transparent me-3"
              onclick="window.location.href='../infousuario.html'">
              <img class="img-user" src="../../images/usuario.png" alt="Usuario"
                style="width:35px; height:35px;">
            </button>

            <button type="button" class="btn border-0 bg-transparent me-2"
              onclick="window.location.href='../notificacion.html'">
              <img class="img-notificacion" src="../../images/campana (2).png" alt="Notificaciones"
                style="width:30px; height:30px;">
            </button>

          </div>
        </div>
      </div>
    </nav>
  </header>

  <a id="return" class="btn-regresar" onclick="window.location.href='../../index.html'">
    <i class="fa-solid fa-arrow-left"></i>
  </a>

  <!-- CONTENIDO PRINCIPAL -->
  <section class="container mt-4 estadisticas-contenido">
    
    <!-- TABLA DE VENTAS -->
    <div id="tabla-ventas" class="tabla-container">
      <h3 class="text-center mb-4" style="color: #fc4b08; font-weight: bold;">Mis Ventas</h3>
      
      <div class="table-responsive">
        <table class="table table-bordered align-middle tabla-custom">
          <thead>
            <tr>
              <th>Comprador</th>
              <th>Producto</th>
              <th>Cantidad</th>
              <th>Monto</th>
              <th>Tipo Pago</th>
              <th>Comprobante</th>
              <th>Fecha</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="tbody-ventas">
            <tr>
              <td colspan="8" class="text-center">Cargando ventas...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Estad√≠sticas (mantener como resumen) -->
    <div class="row mt-4 justify-content-center">
      <div class="col-md-4 col-12 mb-3">
        <div class="dato-box color-ventas">
          <p class="dato-titulo">Ventas concretadas</p>
          <p class="dato-numero" id="total-ventas">00</p>
        </div>
      </div>
      <div class="col-md-4 col-12 mb-3">
        <div class="dato-box color-publicaciones">
          <p class="dato-titulo">Monto total generado</p>
          <p class="dato-numero" id="monto-total">$00</p>
        </div>
      </div>
    </div>
  </section>

  <!-- MODAL PARA REPORTAR PAGO FALSO -->
  <div class="modal fade" id="modalReportarPago" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Si tienes alguna queja o sugerencia puedes escribirlo en el siguiente apartado</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div id="modal-info-contexto" class="mb-3 text-muted"></div>
          
          <div class="mb-3">
            <label for="modal-tipo-problema" class="form-label fw-semibold">Motivo</label>
            <input type="text" class="form-control" id="modal-tipo-problema" 
                   placeholder="Ej: Comprobante falso">
          </div>
          
          <div class="mb-3">
            <label for="modal-descripcion" class="form-label fw-semibold">Describe el problema (m√≠n. 20 caracteres)</label>
            <textarea id="modal-descripcion" class="form-control" rows="8" 
                      placeholder="Escribe tu problema aqu√≠..." required minlength="20"></textarea>
            <div class="form-text text-end" id="modal-char-count">0 caracteres</div>
          </div>
          
          <div class="mb-3">
            <label for="modal-evidencia" class="form-label fw-semibold">Evidencia (Opcional, m√°x 5MB)</label>
            <input type="file" id="modal-evidencia" class="form-control" accept="image/*">
            <div class="mt-2">
              <img id="modal-preview" src="#" alt="Vista previa" style="max-width: 200px; display: none;" class="img-thumbnail">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-danger" onclick="enviarQuejaVenta()">
            Enviar <i class="fa-solid fa-paper-plane ms-1"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL PARA VER COMPROBANTE -->
  <div class="modal fade" id="modalComprobante" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Comprobante de Pago</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body text-center">
          <img id="img-comprobante" src="" alt="Comprobante" class="img-fluid" style="max-height: 500px;">
        </div>
      </div>
    </div>
  </div>

  <footer class="pie-pagina">
    <div class="footer-content">
      <div class="row align-items-center">
        <!-- Columna 1: Logo y redes sociales -->
        <div class="col-lg-4 col-md-6 footer-section">
          <div class="footer-logo">
            <span>üõí</span>
            <span>Upsitos Market</span>
          </div>
          <div class="redes-sociales">
            <a href="#" class="social-icon" aria-label="Instagram">
              <img src="../../images/instragram.png" alt="Instagram">
            </a>
            <a href="#" class="social-icon" aria-label="Facebook">
              <img src="../../images/facebook.png" alt="Facebook">
            </a>
          </div>
        </div>

        <!-- Columna 2: Contacto -->
        <div class="col-lg-8 col-md-6 footer-section">
          <h3 class="footer-titulo">Contacto</h3>
          <div class="d-flex flex-wrap gap-4">
            <div class="contacto-item">
              <i class="fa-solid fa-phone"></i>
              <a href="tel:9613064346">961 306 4346</a>
            </div>
            <div class="contacto-item">
              <i class="fa-solid fa-envelope"></i>
              <a href="mailto:251243@ids.upchiapas.edu.mx">251243@ids.upchiapas.edu.mx</a>
            </div>
            <div class="contacto-item">
              <i class="fa-solid fa-location-dot"></i>
              <span>Universidad Polit√©cnica de Chiapas</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom bar -->
      <div class="footer-bottom">
        <p class="mb-0">
          ¬© 2024 Upsitos Market. Todos los derechos reservados.
        </p>
      </div>
    </div>
  </footer>

  <script type="module" src="../../js/ventas.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>
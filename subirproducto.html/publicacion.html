<!DOCTYPE html>  
<html lang="es">  
<head>  
  <meta charset="UTF-8" />  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />  
  <title>PÃ¡gina de PublicaciÃ³n</title>  
  
  <!-- Fuente -->  
  <link href="https://fonts.googleapis.com/css?family=Open+Sauce+One&display=swap" rel="stylesheet" />  
  
  <!-- Bootstrap -->  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />  
  
  <!-- Font Awesome -->  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" /> 

  <!-- CSS externo -->
  <link rel="stylesheet" href="css/Main.css">

</head>  
<body>  
  
  
  <header>
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid pt-3 contenedor-nav">
        <div class="row w-100 align-items-center">
          
         
          <div class="col-2 text-start">
            <a href="#">
              <img class="navbar-brand-img" src="images/v383_312.png" alt="Logo">
            </a>
          </div>

          <div class="col-6 col-md-6 mx-auto">
            <form class="position-relative d-flex align-items-center" role="search" id="searchForm">
              <input 
                class="form-control form-control-search rounded-5" 
                type="search" 
                placeholder="Buscar..." 
                aria-label="Buscar"
              />
              <button type="submit" class="btn position-absolute end-0 me-2 p-0 border-0 bg-transparent">
                <img src="images/v383_311.png" alt="Buscar" style="width:25px; height:25px;">
              </button>
            </form>
          </div>

          
          <div class="col-2 text-end herramientas d-flex justify-content-end">
            <button type="button" class="btn border-0 bg-transparent me-3">
              <img class="img-user" src="images/v383_308.png" alt="Usuario" style="width:35px; height:35px;">
            </button>
            <button type="button" class="btn border-0 bg-transparent">
              <img class="img-notificacion" src="images/v383_307.png" alt="Notificaciones" style="width:30px; height:30px;">
            </button>
          </div>

        </div>
      </div>
    </nav>
  </header>

  
  <a href="#" class="btn-regresar">
    <i class="fa-solid fa-arrow-left"></i>
  </a>

    
  <section class="upload-section">  
    <label for="imagenInput" class="upload-box">  
      <i class="fa-solid fa-image"></i>  
      <img id="preview" alt="Vista previa" />  
    </label>  
    <input type="file" id="imagenInput" accept="image/*" style="display: none;">  
  </section>  
  
  <section class="container mt-4" style="max-width: 600px;">  
    <form id="form-publicar">  
      <input type="text" class="campo-naranja" id="titulo" placeholder="Ejemplo: Hamburguesa doble con papas" required />  
      <input type="text" class="campo-naranja" id="precio" placeholder="Ejemplo: $45.00 MXN" required />  

      <select class="campo-naranja" id="categoria" required>  
        <option value="" disabled selected>CategorÃ­a</option>  
        <option value="alimentos">Alimentos</option>  
        <option value="prendas">Prendas</option>  
        <option value="materiales">Materiales</option>  
        <option value="servicios">Servicios</option>  
      </select>  

      <textarea class="campo-naranja" id="descripcion" rows="4" placeholder="Ejemplo: Hamburguesa con carne artesanal, queso, lechuga y papas fritas. Entregas en la universidad." required></textarea>  
      <button type="submit" class="boton-publicar mt-2">Publicar</button>  
    </form>  
  </section>  
  
  <div id="popup-exito" class="popup">  
    <div class="popup-contenido">  
      <i class="fa-solid fa-circle-check" style="color:#35e060;"></i>  
      <p>Producto en venta</p>  
    </div>  
  </div>  

  <div id="popup-error" class="popup">  
    <div class="popup-contenido">  
      <i class="fa-solid fa-triangle-exclamation" style="color:#fc4b08;"></i>  
      <p>Error al publicar producto</p>  
    </div>  
  </div>  

  <footer class="pie-pagina">  
    <div class="d-flex justify-content-end mb-2">  
      <img src="images/v383_1293.png" alt="X">  
      <img src="images/v383_1294.png" alt="Instagram">  
      <img src="images/v383_1295.png" alt="Facebook">  
    </div>  
    <p><strong>Contactos:</strong></p>  
    <p class="mb-0">ðŸ“ž 9613064346</p>  
    <p>âœ‰ 251243@ids.upchiapas.edu.mx</p>  
  </footer>  
  
   
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>  
  
  
  <script>  
    const input = document.getElementById('imagenInput');  
    const preview = document.getElementById('preview');  
    const icono = document.querySelector('.upload-box i');  

    input.addEventListener('change', function() {  
      const file = this.files[0];  
      if (file) {  
        const reader = new FileReader();  
        reader.onload = function(e) {  
          preview.src = e.target.result;  
          preview.style.display = 'block';  
          icono.style.display = 'none';  
        }  
        reader.readAsDataURL(file);  
      }  
    });  
  </script>  

  <script>  
    const form = document.getElementById("form-publicar");  
    const popupExito = document.getElementById("popup-exito");  
    const popupError = document.getElementById("popup-error");  

    form.addEventListener("submit", (e) => {  
      e.preventDefault();  

      const titulo = document.getElementById("titulo").value.trim();  
      const precio = document.getElementById("precio").value.trim();  
      const categoria = document.getElementById("categoria").value;  
      const descripcion = document.getElementById("descripcion").value.trim();  
      const tieneImagen = preview.src && preview.style.display === "block";  

      if (titulo && precio && categoria && descripcion && tieneImagen) {  
        popupExito.style.display = "flex";  

        setTimeout(() => {  
          popupExito.classList.add("desaparecer");  
        }, 2000);  

        setTimeout(() => {  
          popupExito.style.display = "none";  
          popupExito.classList.remove("desaparecer");  
          form.reset();  
          preview.style.display = "none";  
          icono.style.display = "block";  
        }, 2600);  
      } else {  
        popupError.style.display = "flex";  

        setTimeout(() => {  
          popupError.classList.add("desaparecer");  
        }, 2000);  

        setTimeout(() => {  
          popupError.style.display = "none";  
          popupError.classList.remove("desaparecer");  
        }, 2600);  
      }  
    });  
  </script>  
</body>
</html>